@using DevTool.Common;
<script src="~/Views/Home/Index.js"></script>




<style>
    #categories div:hover {
        color: #ba5911;
    }
</style>
<!-- item template -->
<script type="text/x-template" id="treeNode-template">
    <li>
        <div v-bind:class="{bold: isFolder}"
             v-on:click="click">
            #{{model.Id}} {{model.Name}} 
            <span v-if="isFolder" v-on:click.stop="toggle">[{{open ? '-' : '+'}}]</span>
        </div>
        <ul v-show="open" v-if="isFolder">
            <treeNode v-bind:class="item"
                      v-for="model in model.Children"
                      v-bind:model="model">
            </treeNode>
        </ul>
    </li>
</script>

<div style="width:1080px;">
    <div class="area" style="width:300px;">
        <div class="title">Category Tree </div>
        <ul id="CategoriesTree">
            <treeNode class="item" v-bind:model="treeData">
            </treeNode>
        </ul>
    </div>

    <div id="Category" class="area" style="width:410px;" 
         data-url-update="@Url.Content("~/Home/UpdateCategoryName")"  
         data-url-add="@Url.Content("~/Home/InsertCategory")" 
         data-url-delete="@Url.Content("~/Home/DeleteCategory")" > 
        <div class="title">Category Info -- {{OriginCategoryName}} <div style="float:right; "><button v-on:click="deleteCtg" class="button" title="Delete Selected Category"  disabled="{{Disabled}}">Delete</button></div></div>
        <div class="row" >
            <label class="label">New Category Name:</label>
            <span class="value">
                <input id="txtCurrentCategoryName" class="textbox" type="text" v-model="CurrentCategoryName" style="width:150px;" placeholder="Selected Category" disabled="{{Disabled}}"/>
            </span>

            <button v-on:click="saveCtgName" class="button" title="Save Selected Category Name" disabled="{{Disabled}}">Save</button>
        </div>
        <div class="row">
            <label class="label"> Add Child Category:</label>
            <span class="value">
                <input class="textbox" type="text" v-model="ChildCategoryName" placeholder="New Category Name" style="width:150px;" disabled="{{Disabled}}" />
            </span>
            <button v-on:click="addChildCtg" class="button" title="Add New Child Category to Selected Category"  disabled="{{Disabled}}">Add</button>
        </div>

        <div class="title">Fields Info</div>
    </div>

    <div id="FieldInfoArea" class="area" style="width:230px;">
        <div class="title">Field Info </div>
    </div>
</div>


<script>

    var CategoryTreeData =@Html.Raw(UiHelper.ToJsonString(UiHelper.CategoryTree())); 
</script>